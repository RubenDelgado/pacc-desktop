{"ast":null,"code":"import { Breakpoints } from '@angular/cdk/layout';\nimport { map, shareReplay } from 'rxjs/operators';\nimport { DialogoConfirmacionComponent } from './dialogo-confirmacion/dialogo-confirmacion.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/cdk/layout\";\nimport * as i2 from \"./services/sesion.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/material/dialog\";\nimport * as i5 from \"@angular/material/sidenav\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/material/list\";\nimport * as i9 from \"@angular/common\";\nimport * as i10 from \"@angular/material/core\";\nimport * as i11 from \"ngx-spinner\";\n\nfunction AppComponent_h4_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\", 11);\n    i0.ɵɵtext(1, \"Inicio\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AppComponent_h4_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\", 11);\n    i0.ɵɵtext(1, \"Cuentas MZone\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AppComponent_h4_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\", 11);\n    i0.ɵɵtext(1, \"Cerrar Sesion\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(breakpointObserver, sesionService, router, dialogo, cdRef) {\n      this.breakpointObserver = breakpointObserver;\n      this.sesionService = sesionService;\n      this.router = router;\n      this.dialogo = dialogo;\n      this.cdRef = cdRef;\n      this.title = 'activaciones-web';\n      this.isExpanded = false;\n      this.mostrarMenu = false;\n      this.anio = new Date().getFullYear();\n      this.isHandset$ = this.breakpointObserver.observe(Breakpoints.Handset).pipe(map(result => result.matches), shareReplay());\n    }\n\n    ngOnInit() {\n      this.mostrarMenu = false;\n      this.validarSesion();\n    }\n\n    ngAfterViewChecked() {\n      this.mostrarMenu = this.mostrarMenu;\n      this.isExpanded = this.isExpanded;\n      this.cdRef.detectChanges();\n    }\n\n    validarSesion() {\n      const tokenSesion = this.sesionService.getToken();\n      console.log(\"TOKEN EN SESION: \" + tokenSesion);\n\n      if (tokenSesion == null || tokenSesion == \"\" || tokenSesion == undefined) {\n        this.mostrarMenu = false;\n        this.isExpanded = false;\n      } else {\n        this.mostrarMenu = false;\n        this.isExpanded = false;\n      }\n    }\n\n    cerrarSesion() {\n      this.dialogo.open(DialogoConfirmacionComponent, {\n        data: `¿Esta seguro de cerrar la sesión?`\n      }).afterClosed().subscribe(confirmado => {\n        if (confirmado) {\n          const tokenSesion = this.sesionService.deleteToken();\n          const usuarioSesion = this.sesionService.deleteUsuarioSesion();\n          const passwordSesion = this.sesionService.deletePasswordSesion();\n          console.log(\"TOKEN EN SESION: \" + tokenSesion);\n          console.log(\"USUARIO EN SESION: \" + usuarioSesion);\n          console.log(\"PASSWORD EN SESION: \" + passwordSesion);\n          this.mostrarMenu = false;\n          this.router.navigate(['/login/']);\n        }\n      });\n    }\n\n  }\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.BreakpointObserver), i0.ɵɵdirectiveInject(i2.SesionService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.MatDialog), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 24,\n    vars: 8,\n    consts: [[\"mode\", \"side\", \"disableClose\", \"true\", \"opened\", \"true\"], [\"drawer\", \"\"], [\"mat-mini-fab\", \"\", \"color\", \"warn\", 2, \"margin\", \"10px\", 3, \"click\"], [\"aria-label\", \"Menu\"], [3, \"routerLink\"], [\"mat-list-icon\", \"\"], [\"mat-line\", \"\", 4, \"ngIf\"], [3, \"click\"], [1, \"container\"], [\"bdColor\", \"rgba(51, 51, 51, 0.8)\", \"size\", \"default\", \"type\", \"ball-spin-clockwise\"], [2, \"color\", \"white\"], [\"mat-line\", \"\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-drawer-container\")(1, \"mat-drawer\", 0, 1)(3, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_3_listener() {\n          return ctx.isExpanded = !ctx.isExpanded;\n        });\n        i0.ɵɵelementStart(4, \"mat-icon\", 3);\n        i0.ɵɵtext(5, \"menu\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"mat-nav-list\")(7, \"mat-list-item\", 4)(8, \"mat-icon\", 5);\n        i0.ɵɵtext(9, \"home\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(10, AppComponent_h4_10_Template, 2, 0, \"h4\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"mat-list-item\", 4)(12, \"mat-icon\", 5);\n        i0.ɵɵtext(13, \"groups\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(14, AppComponent_h4_14_Template, 2, 0, \"h4\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"mat-list-item\", 7);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_mat_list_item_click_15_listener() {\n          return ctx.cerrarSesion();\n        });\n        i0.ɵɵelementStart(16, \"mat-icon\", 5);\n        i0.ɵɵtext(17, \"logout\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(18, AppComponent_h4_18_Template, 2, 0, \"h4\", 6);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(19, \"div\", 8);\n        i0.ɵɵelement(20, \"router-outlet\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"ngx-spinner\", 9)(22, \"p\", 10);\n        i0.ɵɵtext(23, \"Un momento porfavor. \");\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleMapInterpolate1(\"display: \", ctx.mostrarMenu == null || ctx.mostrarMenu == false || ctx.mostrarMenu == undefined ? \"NONE\" : \"\", \";\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"routerLink\", \"inicio\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.isExpanded);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", \"cuentas-mzone\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.isExpanded);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.isExpanded);\n      }\n    },\n    directives: [i5.MatDrawerContainer, i5.MatDrawer, i6.MatButton, i7.MatIcon, i8.MatNavList, i8.MatListItem, i3.RouterLink, i8.MatListIconCssMatStyler, i9.NgIf, i10.MatLine, i3.RouterOutlet, i11.NgxSpinnerComponent],\n    styles: [\"\"]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}